<div class="container">
  <form [formGroup]="this.profileForm" (ngSubmit)="onSubmit()">
    <div class="card">
      <h3 class="card-title"><strong>Página inicial</strong></h3>
      <hr />
      <div class="card-body">
        <div class="row">
          <div class="col-2" ngClass="colAvatar">
            <img
              src="assets/avatar.png"
              width="150px"
              height="150px"
              alt="..."
            />
          </div>
          <div class="col-10">
            <div class="form-floating">
              <textarea
                maxlength="130"
                class="form-control"
                formControlName="tweet"
                placeholder="Leave a comment here"
                id="floatingTextarea2"
                style="height: 100px"
                (keyup.enter)="onSubmit()"
              ></textarea>
              <label for="floatingTextarea2">O que está acontecendo?</label>
              <a>{{ this.caracteresRestantes }} caracteres restantes</a>
            </div>
          </div>
        </div>
        <div class="card-footer">
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="!profileForm.valid"
          >
            Tweetar
          </button>
        </div>
      </div>
    </div>
  </form>
  <div class="card" *ngFor="let post of posts">
    <h5 class="card-title">{{ post?.name }}</h5>
    <span class="card-subtitle mb-2 text-muted">
      @{{ post?.username }} {{ post.dateTime | time }}
    </span>
    <div class="card-body bodyPost">
      <div class="row">
        <div class="col-10">
          <span>{{ post?.text }}</span>
        </div>
        <div class="col-2" style="text-align: right">
          <button type="button" class="btn btn-danger" (click)="open(post)">
            Excluir
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template>
  <app-modal #content></app-modal>
</ng-template>
